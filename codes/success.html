<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>WE DID IT YAY OMG !! 0.0</title>
</head>
<body>
    <p id="channel"></p>
    <p id="access_token"></p>

    <script>
        // get access token from URL
        const urlParams = new URLSearchParams(window.location.search);
        const accessToken = urlParams.get('access_token');

        // url to GET channel_ID
        const url = 'https://api.twitch.tv/helix/users';

        //headers
        const headers = {
            'Client-ID': '8khtls8dc9mor80o1sp0wlx5bofig9',
            'Authorization': 'Bearer ' + accessToken
        };

        fetch(url, {
            headers: headers
        })
            .then(response => response.json())
            .then(data => {
                const channelID = data.data[0].id;
                document.getElementById('channel').textContent = 'Channel ID: ' + channelID;
                document.getElementById('access_token').textContent = 'Access Token: ' + accessToken;
            })
            .catch(error => {
                console.error('Error:', error);
            });
    </script>
</body>
</html>